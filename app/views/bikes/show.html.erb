
<div class="container mt-4">
  <div class="row">
    <div class="col-sm">

      <div style="font-size:14px;">
        <%= link_to bikes_path, style: "text-decoration: none; color: black;" do %>
        <%= image_tag('arrow_back.svg') + " " + ("Return to bikes") %>
        <% end %>
      </div>



      <div class="d-flex mt-2" style="align-items: center;">
        <%= image_tag('pin_drop.svg')%>
        &nbsp;
        <p style= "font-size: 14px; margin-bottom: 0px;"> <%= @bike.address %></p>
      </div>



      <div class="mt-3 d-flex flex-column flex-lg-row">

        <div class="card card-left mb-3 border border-dark shadow" style = "border-radius: 20px;">
          <%= cl_image_tag @bike.photo.key, class: "card-show-img-top", style: "border-top-right-radius: 20px; border-top-left-radius:20px" %>


          <div class="card-body">
            <p class="card-text"><%= @bike.bike_category %></p>
            <p class="card-text"><%= @bike.frame_size %></p>
            <p class="card-text"><%= @bike.description %></p>
            <p class="card-text"><%= @bike.rate_per_day %></p>
            <p class="card-text"></p>
            <p class="card-text"><small class="text-muted">This bike is <%= @bike.distance_away %> km away from you</small></p>
          </div>
        </div>

        &nbsp;  &nbsp;  &nbsp;  &nbsp;

        <div class="d-flex flex-column">

          <div class="card card-right mb-3 border border-dark shadow " style ="height: 48vh; border-radius: 20px;">
            <div class="card-body">
              <%= simple_form_for ([@bike, @booking]), html: { id: :booking_form } do |f| %>
              <%= f.input :start_date, as: :date, order: [:day, :month, :year], id: "start" %>
              <%= f.input :end_date, as: :date, order: [:day, :month, :year], id: "end"  %>
              <br>
              <div style="display: flex; justify-content: center; align-items: center;">
                <%= f.submit 'Book bike', { class: "home-button" } %>
              </div>
              <% end %>
              <div id="total"></div>
            </div>
          </div>

          <div class= "space-below"></div>

          <div class="card card-right border border-dark shadow" style ="height: 48vh; border-radius: 20px;">
            <div class="card-body">
              <div id="map"
              class= "mx-auto text-center"
              style="width: 100%; height: 41vh; border-radius: 10px; padding:5px;"
              data-markers="<%= @markers.to_json %>"
              data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
            </div>

          </div>
        </div>

      </div>


    </div>

  </div>
</div>
</div>






<!-- script>



  const calculatePrice = () => {


    // let theForm = document.forms['booking_form'];

    let start = new Date (document.getElementbyId('booking_start_date_3i').value);

    console.log(start);

    let end = new Date(document.getElementbyId('booking_end_date_3i').value);

    return price = parseInt(end - start);


  }

  const displayPrice = () => {
    if(document.getElementbyId('booking_end_date_3i')) {
      document.getElementById('total').innerHTML = calculatePrice();
      console.log(calculatePrice());
    }
  }

</script> -->










